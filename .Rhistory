separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_code <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_code <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
library(readr)
refine_original <- read_csv("~/Documents/Programing/ refine_original.csv")
View(refine_original)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_code <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
view(x)
glimpse(x)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_code <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_code <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_code <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
View(x)
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
x <- separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_code <- prod_lut[x$product_code]
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet") %>%
product_code <- prod_lut[x$product_code]
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
x <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(x, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
View(full_address)
View(full_address)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
x$full_address <- unite_(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, address, city, country, sep = ", ", remove = FALSE)
x$full_address <- unite(refine_original, x$full_address, address, city, country, sep = ", ", remove = FALSE)
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
y$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 4: Add full address for geocoding
y$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 4: Add full address for geocoding
d$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, address, city, country, sep = ", ", remove = FALSE)
x <- unite_(x, "full_address", c(address, city, country), sep = ", ", remove = FALSE)
x <- unite_(refine_original, "full_address", c(address, city, country), sep = ", ", remove = FALSE)
x <- unite_(refine_original, "full_address", c("address", "city", "country"), sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite_(refine_original, "full_address", c("address", "city", "country"), sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite_(refine_original, "full_address", c("address", "city", "country"), sep = ", ", remove = FALSE)
View(x)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x <- unite_(refine_original, "full_address", c("address", "city", "country"), sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x$full_address <- unite_(refine_original, "full_address", c("address", "city", "country"), sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x$full_address <- unite_(refine_original, "full_address", c("address", "city", "country"), sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 1: Clean up brand names.
company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
full_address <- unite_(refine_original, "full_address", c("address", "city", "country"), sep = ", ", remove = FALSE)
# 1: Clean up brand names.
company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_category <- prod_lut[product_code]
# 4: Add full address for geocoding
full_address <- unite_(refine_original, "full_address", c("address", "city", "country"), sep = ", ", remove = FALSE)
# 1: Clean up brand names.
company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
product_category <- prod_lut[product_code]
# 4: Add full address for geocoding
full_address <- unite_(refine_original, "full_address", c("address", "city", "country"), sep = ", ", remove = FALSE)
x <- c(company, product_code, product_number, product_category, full_address)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
View(x)
View(x)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("x$product_code", "x$product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
separate(refine_original, 'Product code / number', c("x$product_code", "x$product_number" ), sep = "\\-")
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("x$product_code", "x$product_number" ), sep = "\\-")
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
g <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
g <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
library(readr)
refine_original <- read_csv("~/Documents/Programing/ refine_original.csv")
View(refine_original)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
x < - company
x < - "company"
x <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
x.company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
view(x)
View(x)
View(x)
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 1: Clean up brand names.
x$company <- gsub(pattern = ".*ps", replacement = "philips", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "ak.*", replacement = "akzo", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "van.*", replacement = "van houten", refine_original$company, ignore.case = TRUE) %>%
gsub(pattern = "unil.*", replacement = "unilever", refine_original$company, ignore.case = TRUE)
# 2: Separate product code and number.
x <- separate(refine_original, 'Product code / number', c("product_code", "product_number" ), sep = "\\-")
# 3: Add product categories.
prod_lut <- c("p" = "Smartphone", "v" = "TV", "x" = "Laptop", "q" = "Tablet")
x$product_category <- prod_lut[x$product_code]
# 4: Add full address for geocoding
x$full_address <- unite(refine_original, full_address, address, city, country, sep = ", ", remove = FALSE)
library(readr)
refine_original <- read_csv("~/Documents/Programing/ refine_original.csv")
View(refine_original)
